- name: Install c-a-d system dependencies
  package:
    name: "{{ item }}"
    state: present
  become: true
  with_items:
    - git
    - sshpass

# By default centOS knows no repo with pip.
- name: Get pip
  uri:
    url: "https://bootstrap.pypa.io/get-pip.py"
    dest: ~/get-pip.py
    method: GET
    creates: /usr/bin/pip

- name: Install pip
  command: python ~/get-pip.py
  args:
    creates: /usr/bin/pip

- name: Install c-a-d python dependencies
  pip:
    name: "{{ item }}"
    state: present
  become: true
  with_items:
    - requests==2.18.4
    - ansible==2.4.2.0
